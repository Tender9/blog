## â­ï¸åŠŸèƒ½éœ€æ±‚

1. å‘˜å·¥æ•°æ®æŒ‰ç…§å¹´é¾„æ’åºï¼›

   ```js
   // å‘˜å·¥æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ¯ä¸ªå‘˜å·¥å¯¹è±¡åŒ…å«å§“åã€å¹´é¾„å’ŒèŒä¸šå±æ€§
   const people = [
       { name: 'å¼ ä¸‰', age: 28, occupation: 'å·¥ç¨‹å¸ˆ' },
       { name: 'æå››', age: 24, occupation: 'è®¾è®¡å¸ˆ' },
       { name: 'ç‹äº”', age: 30, occupation: 'é”€å”®ç»ç†' },
   ];
   ```

2. ç­›é€‰24å²ä»¥ä¸Šå‘˜å·¥ï¼›

3. æå–åˆ°æ–°çš„è¡¨æ ¼é‡Œï¼Œå¹¶ç»„æˆæ–‡æœ¬

### å‘½ä»¤å¼ç¼–ç¨‹

```js
// 1. æŒ‰å¹´é¾„æ’åº
for (let i = 0; i < employees.length - 1; i++) {
    for (let j = 0; j < employees.length - i - 1; j++) {
        if (employees[j].age > employees[j + 1].age) {
            const temp = employees[j];
            employees[j] = employees[j + 1];
            employees[j + 1] = temp;
        }
    }
}

// 2. ç­›é€‰24å²ä»¥ä¸Šå‘˜å·¥
const filteredEmployees = [];
for (let i = 0; i < employees.length; i++) {
    if (employees[i].age >= 24) {
        filteredEmployees.push(employees[i]);
    }
}

// 3. æå–åˆ°æ–°çš„è¡¨æ ¼å¹¶ç»„æˆæ–‡æœ¬
let text = "å§“å\tå¹´é¾„\tèŒä¸š\n"; 
for (let i = 0; i < filteredEmployees.length; i++) {
    const employee = filteredEmployees[i];
    text += `${employee.name}\t${employee.age}\t${employee.occupation}\n`; 
}
console.log(text); 
```



### å‡½æ•°å¼ç¼–ç¨‹

```js
// 1. æŒ‰å¹´é¾„æ’åº
const sortedByAge = (a, b) => a.age - b.age;

// 2. ç­›é€‰24å²ä»¥ä¸Šå‘˜å·¥
const employeeBiggerThan24 = (v) => v.age >= 24;

// 3. æå–åˆ°æ–°çš„è¡¨æ ¼å¹¶ç»„æˆæ–‡æœ¬
const generateLogText = (v) => {
    return `${v.name}\t${v.age}\t\t${v.occupation}`;
};

let res = employees.sort(sortedByAge).filter(employeeBiggerThan24).map(generateLogText).join("\n");

let text = "å§“å\tå¹´é¾„\tèŒä¸š\n" + res;
console.log(text);
```

JavaScriptä¸­å…·æœ‰å£°æ˜å¼ç¼–ç¨‹çš„æ–¹æ³•åŒ…æ‹¬äº† `map`ã€`filter` å’Œ `reduce` ç­‰

```js
// 1. æŒ‰å¹´é¾„æ’åº
const sortedEmployees = [...employees].sort((a, b) => a.age - b.age);

// 2. ç­›é€‰24å²ä»¥ä¸Šå‘˜å·¥
const filteredEmployees = sortedEmployees.filter((employee) => employee.age >= 24);

// 3. æå–åˆ°æ–°çš„è¡¨æ ¼å¹¶ç»„æˆæ–‡æœ¬
const text = filteredEmployees.map((employee) => `${employee.name}\t${employee.age}\t\t${employee.occupation}`).join("\n");

console.log("å§“å\tå¹´é¾„\tèŒä¸š\n" + text);
```

æ•´ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰æ˜¾å¼çš„å¾ªç¯ï¼Œè€Œæ˜¯ä½¿ç”¨äº†å‡½æ•°å¼ç¼–ç¨‹çš„æ–¹å¼æ¥è¡¨è¾¾ç¨‹åºé€»è¾‘

### å‰¯ä½œç”¨

å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿäº†**å¤–éƒ¨å¯è§‚å¯Ÿå˜åŒ–**

1. ä¿®æ”¹å…¨å±€å˜é‡æˆ–å¤–éƒ¨çŠ¶æ€

   ```js
   let globalVariable = 10;
   
   function modifyGlobalVariable(newValue) {
       globalVariable = newValue;
   }
   
   console.log(globalVariable); // è¾“å‡º: 10
   modifyGlobalVariable(20);
   console.log(globalVariable); // è¾“å‡º: 20
   ```

2. ä¿®æ”¹å‡½æ•°å‚æ•°æ‰€å¼•ç”¨çš„å¯¹è±¡æˆ–æ•°æ®ç»“æ„

   ```js
   let obj = { value: 10 };
   
   function modifyObject(obj, newValue) {
       obj.value = newValue;
   }
   
   console.log(obj.value); // è¾“å‡º: 10
   modifyObject(obj, 20);
   console.log(obj.value); // è¾“å‡º: 20
   ```

   

3. å‘é€ HTTP è¯·æ±‚æˆ–æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢

   ```js
   function fetchDataFromServer() {
       // å‘é€ HTTP è¯·æ±‚å¹¶è·å–æ•°æ®
   }
   
   fetchDataFromServer(); // å‘é€äº† HTTP è¯·æ±‚ï¼Œå…·æœ‰å‰¯ä½œç”¨
   ```

4. æ‰“å°è¾“å‡ºåˆ°æ§åˆ¶å°æˆ–æ—¥å¿—æ–‡ä»¶ï¼ˆè¾“å‡ºäº†ä¿¡æ¯åˆ°å¤–éƒ¨ç¯å¢ƒï¼Œä½¿å¾—ç¨‹åºæ‰§è¡Œè¿‡ç¨‹å¯è§‚å¯Ÿï¼‰

   ```js
   function printMessage(message) {
       console.log(message); // æ‰“å°æ¶ˆæ¯åˆ°æ§åˆ¶å°ï¼Œå…·æœ‰å‰¯ä½œç”¨
   }
   
   printMessage("Hello, world!"); // åœ¨æ§åˆ¶å°æ‰“å°äº† "Hello, world!"ï¼Œå…·æœ‰å‰¯ä½œç”¨
   ```

5. æŠ›å‡ºå¼‚å¸¸æˆ–é”™è¯¯ï¼ˆå¼‚å¸¸çš„æŠ›å‡ºä¼šå¯¼è‡´ç¨‹åºçš„æ‰§è¡Œæµç¨‹å‘ç”Ÿæ”¹å˜ï¼Œå¤–éƒ¨ç¯å¢ƒå¯è§‚å¯Ÿåˆ°ï¼‰

   ```js
   function divide(a, b) {
       if (b === 0) {
           throw new Error("é™¤æ•°ä¸èƒ½ä¸ºé›¶");
       }
       return a / b;
   }
   
   divide(10, 0); // æŠ›å‡ºå¼‚å¸¸ï¼Œå…·æœ‰å‰¯ä½œç”¨
   ```



### çº¯å‡½æ•°

ç»™å®šç›¸åŒçš„è¾“å…¥ï¼Œæ€»æ˜¯äº§ç”Ÿç›¸åŒçš„è¾“å‡º â†’ ä¸ä¼šäº§ç”Ÿæ„å¤–çš„å‰¯ä½œç”¨

1. è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œ

   ```js
   function add(a, b) {
       return a + b;
   }
   // æ‰§è¡Œå‡½æ•°ç›¸åŒè¾“å…¥è¾“å‡ºç»“æœä¸€è‡´
   add(2,3)
   ```

PSï¼šå‰¯ä½œç”¨å¹¶æ²¡æœ‰ç›´æ¥å½±å“å‡½æ•°çš„çº¯åº¦æ—¶ï¼Œä¹Ÿå¯è¢«è§†ä¸ºä¸€ä¸ªçº¯å‡½æ•°

```js
function printMessage(message) {
    console.log(message);
}
printMessage("Hello, world!");
```

### éçº¯å‡½æ•°

ä¸å¤–éƒ¨ç¯å¢ƒäº§ç”Ÿäº†äº¤äº’æˆ–å½±å“ï¼Œé€šå¸¸äº§ç”Ÿäº†å‰¯ä½œç”¨

1. ç”Ÿæˆä¸€ä¸ªéšæœºæ•°

   ```js
   function generateRandomNumber() {
       return Math.random();
   }
   // è¾“å‡ºç»“æœå¯èƒ½æ˜¯ä¸ç¡®å®šçš„
   console.log(generateRandomNumber()); // è¾“å‡º: 0.12345
   console.log(generateRandomNumber()); // è¾“å‡º: 0.54321
   ```

   æ¯æ¬¡è°ƒç”¨éƒ½å¯èƒ½è¿”å›ä¸åŒçš„å€¼ï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ªéçº¯å‡½æ•°

   

2. ä¿®æ”¹äº†å…¨å±€å˜é‡

   ```js
   let counter = 0;
   function incrementCounter() {
       counter++;
   }
   
   // è°ƒç”¨éçº¯å‡½æ•°ï¼Œä¼šä¿®æ”¹å…¨å±€å˜é‡çš„çŠ¶æ€
   incrementCounter();
   console.log(counter); // è¾“å‡º: 1
   ```

   `rementCounter` å‡½æ•°ä¼šä¿®æ”¹å¤–éƒ¨çš„å…¨å±€å˜é‡ `counter` çš„çŠ¶æ€ï¼Œå…·æœ‰å‰¯ä½œç”¨ï¼Œæ˜¯ä¸€ä¸ªéçº¯å‡½æ•°



3. å‰¯ä½œç”¨å½±å“å‡½æ•°ä»¥å¤–çš„çŠ¶æ€

   ```js
   let x = 10;
   
   function sum(a) {
       console.log(a + x);
   }
   
   sum(5);
   ```

   å˜é‡ `x` æ”¹å˜ï¼Œæ‰§è¡Œ`sum(5)`æ—¶å¾—åˆ°çš„è¾“å‡ºå‘ç”Ÿæ”¹å˜

   PSï¼š**ä½†å¦‚æœæ˜¯`const` å£°æ˜ `x`ï¼Œé‚£å®ƒè¿˜æ˜¯ä¸€ä¸ªçº¯å‡½æ•°**

   

### é«˜é˜¶å‡½æ•°

å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°

## â­ï¸åŠŸèƒ½éœ€æ±‚

è®°å½•æŸä¸ªå‡½æ•°æ‰§è¡Œäº†å¤šå°‘æ¬¡

```js
let count = 0;

function bar() {
    console.log("hello");
    count++;
}

let count1 = 0;

function foo() {
    console.log("world");
    count1++;
}
```

ç®€å•å°è£…ä¸ºé«˜é˜¶å‡½æ•°

```js
function bar() {
    console.log("a");
}

function count(fn) {
    let count = 0;
    return [
        (...args) => {
            fn(...args);
            count++;
        },
        () => count
    ];
}

let [countByBar, countBarTimes] = count(bar);
countByBar();
countByBar(); 
console.log(countBarTimes()); // 2
```

### ä½¿ç”¨é«˜é˜¶å‡½æ•°å®ç°å‘˜å·¥æå–åˆ°è¡¨æ ¼

1. **é“¾å¼è°ƒç”¨**

   ```js
   // æŒ‰ç…§å¹´é¾„æ’åºçš„æ¯”è¾ƒå‡½æ•°
   function smallAgeFirst(a, b) {
       return a.age - b.age;
   }
   
   // ç­›é€‰å‡ºå¹´é¾„å¤§äºç­‰äº24å²çš„å‘˜å·¥
   function ageBiggerThan24(person) {
       return person.age >= 24;
   }
   
   // ç”Ÿæˆæ–‡æœ¬ä¿¡æ¯çš„å‡½æ•°
   function generateLogText(person) {
       return `${person.name}\t${person.age}\t\t${person.occupation}`;
   }
   
   // å®šä¹‰å·¥ä½œå‡½æ•°ï¼Œå®ç°å‘˜å·¥æ•°æ®æŒ‰å¹´é¾„æ’åºã€ç­›é€‰24å²ä»¥ä¸Šå‘˜å·¥ã€æå–å¹¶ç»„æˆæ–‡æœ¬
   const work = (arr) => {
       return (
           "å§“å\tå¹´é¾„\tèŒä¸š\n" +
           arr
               .sort(smallAgeFirst) // æŒ‰å¹´é¾„æ’åº
               .filter(ageBiggerThan24) // ç­›é€‰24å²ä»¥ä¸Šå‘˜å·¥
               .map(generateLogText) // ç”Ÿæˆæ–‡æœ¬ä¿¡æ¯
               .join("\n")
       ); // ä½¿ç”¨æ¢è¡Œç¬¦è¿æ¥æ–‡æœ¬ä¿¡æ¯
   };
   
   // è°ƒç”¨å·¥ä½œå‡½æ•°ï¼Œå¾—åˆ°ç»“æœå¹¶è¾“å‡º
   console.log(work(people));
   ```

   

2. **ç®¡é“å‡½æ•° pipe**

   ```js
   // æŒ‰ç…§å¹´é¾„æ’åºçš„æ¯”è¾ƒå‡½æ•°
   function sort(people) {
       return people.sort((a, b) => a.age - b.age);
   }
   
   // ç­›é€‰å‡ºå¹´é¾„å¤§äºç­‰äº24å²çš„å‘˜å·¥
   function filter(people) {
       return people.filter(person => person.age >= 24);
   }
   
   // æå–å¹¶ç»„æˆæ–‡æœ¬ä¿¡æ¯çš„å‡½æ•°
   function map(people) {
       return people.map(person => `${person.name}\t${person.age}\t${person.occupation}`);
   }
   
   // å®šä¹‰ç®¡é“å‡½æ•°
   const pipe = (funcs) => {
       return (input) => {
           return funcs.reduce((pre, cur) => {
               return cur(pre);
           }, input);
       };
   };
   
   // å°†æ“ä½œå‡½æ•°æ”¾å…¥ç®¡é“ä¸­ï¼Œå¹¶æ‰§è¡Œæ“ä½œ
   const work = pipe([sort, filter, map]);
   const result = work(people);
   
   // è¾“å‡ºç»“æœ
   console.log("å§“å\tå¹´é¾„\tèŒä¸š");
   console.log(result.join("\n"));
   ```

   - `pipe` å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°æ•°ç»„ `funcs` ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå‡½æ•°
   - è¿”å›çš„å‡½æ•°æ¥å—ä¸€ä¸ªè¾“å…¥ `input`ï¼Œå¹¶é€šè¿‡ `reduce` æ–¹æ³•ä¾æ¬¡æ‰§è¡Œ `funcs` æ•°ç»„ä¸­çš„å‡½æ•°ï¼Œå°†æ¯ä¸ªå‡½æ•°çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥
   - æœ€ç»ˆè¿”å›çš„å‡½æ•°å°±æ˜¯ä¸€ä¸ªå°†è¾“å…¥ä¾æ¬¡ç»è¿‡ `funcs` æ•°ç»„ä¸­çš„å‡½æ•°å¤„ç†åå¾—åˆ°çš„ç»“æœï¼ˆç›¸å½“äºé“¾å¼è°ƒç”¨ï¼‰
   - é¿å…äº†ä¸­é—´å˜é‡çš„äº§ç”Ÿ

   

3. **ç»„åˆå‡½æ•°compose**

   ```js
   export const pipe = (funcs) => {
       const p = (input, fun) => fun(input);
       return (data) => funcs.reduce(p, data);
   };
   
   export const compose = (funcs) => {
       const p = (input, fun) => fun(input);
       return (param) => funcs.reduceRight(p, param);
   };
   ```

   

### æŸ¯é‡ŒåŒ–å‡½æ•°

#### åå‡½æ•°

å‡½æ•°å‚æ•°æœ‰å¤šä¸ªï¼Œä½†å…¶ä¸­å¯ä»¥è®¾ç½®å‡ ä¸ªå›ºå®šå‚æ•°

```js
function add(a, b) {
    return a + b;
}

function sum(b) {
    return add(5, b);
}
```



#### æŸ¯é‡ŒåŒ–

ç®€å•å‡½æ•°æŸ¯é‡ŒåŒ–

```js
function num(a, b, c) {
    return a * b * c;
}

ğŸ‘‡

const createNum = (a) => {
    return (b) => {
        return (c) => {
            return a * b * c;
        };
    };
};
```

å¯ä»¥æ ¹æ®å‚æ•°ç¡®å®šå‡½æ•°çš„ä¸ªæ•°

## â­ï¸åŠŸèƒ½éœ€æ±‚

å†™ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œè‡ªåŠ¨æ ¹æ®å‡½æ•°è¿›è¡ŒæŸ¯é‡ŒåŒ–

```js
function num(a, b, c) {
    return a * b * c;
}

const curry = (fn, arg = []) => {
    return (input) => {
        // å°†ä¼ å…¥çš„å‚æ•°æ·»åŠ åˆ°æ•°ç»„ä¸­
        arg.push(input);
        // åˆ¤æ–­ä¼ å…¥å‚æ•°æ˜¯å¦æ»¡è¶³å‡½æ•°å‚æ•°ä¸ªæ•°
        if (arg.length === fn.length) {
            return fn(...arg);
        }
        // ä¸æ»¡è¶³åˆ™é€’å½’ç”Ÿæˆæ–°çš„å‡½æ•°
        return curry(fn, arg);
    };
};

const f = curry(num);
console.log(f(1)(2)(3), "f"); // è¾“å‡º 6

```





